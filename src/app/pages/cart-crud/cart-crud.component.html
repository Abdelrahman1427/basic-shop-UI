<h2>Visible Products</h2>
<input type="text" [(ngModel)]="filterTerm" (input)="filterProducts()" placeholder="Filter products by name" />

<table>

  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of filteredProducts">
      <td>{{ product.name }}</td>
      <td>{{ product.price }}</td>
      <td>{{ product.qty }}</td>
      <td>
        <button (click)="addToCart(product)">Add to Cart</button>
      </td>
    </tr>
  </tbody>
</table>

<h2>Cart</h2>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of cart; let i = index">
      <td>{{ productMap.get(item.productId)?.name }}</td> <!-- Display product name -->
      <td>{{ productMap.get(item.productId)?.price }}</td> <!-- Display product price -->
      <td>
        <input type="number" [(ngModel)]="item.quantity" (change)="updateCartItem(item)" min="1" />
      </td>
      <td>
        <button (click)="removeFromCart(i)">Remove</button>
      </td>
    </tr>
    <h2>Total Price: {{ calculateTotalPrice() | currency }}</h2>

  </tbody>
</table>